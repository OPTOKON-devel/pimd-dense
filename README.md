PIM-DM Multicast Routing for UNIX
=================================

Introduction
------------

pimdd is the dense-mode cousin to [pimd][], the reference implementation
for [PIM-DM draft 5][draft].  [RFC3973][] later revised the protocol,
and pimdd does not (yet) support that revision.

This code is old and was sort of dead and forgotten.  The only project
that kept it running was FreeBSD in their ports collection.  As such it
was included in the BSD Router Project.

This project at GitHub is an attempt at reviving it.  The latest code on
the master branch has been infused with fresh DNA strands from the
[pimd][] project, including a netlink back-end to read the unicast
routing table.


Running pimdd
-------------

Run pimdd as a root.  It is highly recommended to run it in debug mode.
Because there are many debug messages, you can specify only a subset of
the messages to be printed out:

    usage: pimdd [-f configfile] [-d [debug_level][,debug_level]]

Valid debug levels:

    dvmrp_prunes,dvmrp_mrt,dvmrp_neighbors,dvmrp_timers,igmp_proto,igmp_timers,igmp_members,trace,timeout,pkt,interfaces,kernel,cache,rsrr,pim_hello,pim_register,pim_join_prune,pim_graft,pim_bootstrap,pim_asserts,pim_cand_rp,pim_routes,pim_timers,pim_rpf

If you want to see all messages, use `pimdd -d` only.


Build & Install
---------------

When building from a released tarball, the configure script is bundled
and you do not need to do anything special (see below for building from
GIT).  The Makefile supports de facto standard settings and environment
variables such as `--prefix=PATH` and `DESTDIR=` for the install
process.  E.g., to install pimd to `/usr` instead of the default
`/usr/local`, but redirect install to a package directory in `/tmp`:

    ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var
	make
    make DESTDIR=/tmp/pimdd-1.0.0 install-strip


Building from GIT
-----------------

If you want to contribute, or simply just try out the latest but
unreleased features, then you need to know a few things about the
[GNU build system][buildsystem]:

- `configure.ac` and a per-directory `Makefile.am` are key files
- `configure` and `Makefile.in` are generated from `autogen.sh`
- `Makefile` is generated by `configure` script

To build from GIT you first need to clone the repository and run the
`autogen.sh` script.  This requires `automake` and `autoconf` to be
installed on your system.

    git clone https://github.com/troglobit/pimd-dense.git
    cd pimd-dense/
    ./autogen.sh
    ./configure && make

GIT sources are a moving target and are not recommended for production
systems, unless you know what you are doing!


Origin & References
-------------------

Parts of this program has been derived from both the PIM sparse-mode
daemon, pimd, which in turn is based on the DVMRP daemon mrouted.

The pimd program is covered by the license in the accompanying file
named [LICENSE.pimd](doc/LICENSE.pimd), Copyright 1998-2001 University
of Southern California.

The mrouted program is covered by the 3-clause BSD license, available in
the accompanying file named [LICENSE.mrouted](doc/LICENSE.mrouted).
Copyright 2002 The Board of Trustees of Leland Stanford Junior University


[pimd]:    https://github.com/troglobit/pimd
[draft]:   https://tools.ietf.org/html/draft-ietf-idmr-pim-dm-spec-05
[RFC3973]: https://tools.ietf.org/html/rfc3973
